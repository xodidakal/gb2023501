<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.choongang.gb2023501.NewFileMapper"> 
	<select id="dhGameOrderList" resultType="Game" parameterType="Game">
		SELECT 	a.*
		FROM   (SELECT rownum rn, g.*
				FROM  game g
				<if test="keyword != null and keyword != ''">
			 	where g_title like '%' || #{keyword} || '%'
			 	</if>
				) a
		WHERE rn BETWEEN #{start} AND #{end}
		
	</select>
	
	<select id="dhGameOrderSearchTotal" resultType="int" parameterType="Game">
		SELECT count(*)
		FROM   game
		<if test="keyword != null and keyword != ''">
		WHERE  g_title like '%' || #{keyword} || '%'
		</if>
	
	</select>
</mapper>